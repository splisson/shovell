  [4;36;1mSQL (13.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('My test submission', '2009-09-29 16:33:52', '2009-09-29 16:33:52', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (12.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.5ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('My test submission', '2009-09-29 16:34:39', '2009-09-29 16:34:39', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (47.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 09:41:45) [POST]
  Parameters: {"story"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 28ms (View: 24, DB: 57) | 200 OK [http://test.host/stories?]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 09:41:45) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 09:41:45) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#index (for 0.0.0.0 at 2009-09-29 09:41:45) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/story
Rendering story/index
Completed in 45ms (View: 7, DB: 1) | 200 OK [http://test.host/story]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 09:46:02) [POST]
  Parameters: {"story"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 13ms (View: 9, DB: 10) | 200 OK [http://test.host/stories?]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 09:46:02) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (10.6ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 12ms (DB: 12) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 09:46:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 09:46:02) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 43ms (View: 42, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 09:46:02) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 09:46:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 09:46:02) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#index (for 0.0.0.0 at 2009-09-29 09:46:02) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/story
Rendering story/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://test.host/story]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 09:47:14) [POST]
  Parameters: {"story"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES(NULL, '2009-09-29 16:47:14', '2009-09-29 16:47:14', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 5ms (DB: 10) | 302 Found [http://test.host/stories?]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 09:47:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 09:47:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 09:47:14) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 09:47:14) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 09:47:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 09:47:14) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoryController#index (for 0.0.0.0 at 2009-09-29 09:47:14) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/story
Rendering story/index
Completed in 53ms (View: 51, DB: 0) | 200 OK [http://test.host/story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 09:48:12) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 16:48:12', '2009-09-29 16:48:12', 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 6ms (DB: 9) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 09:48:12) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 09:48:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 09:48:12) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 09:48:12) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 09:48:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 09:48:12) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoryController#index (for 0.0.0.0 at 2009-09-29 09:48:12) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/story
Rendering story/index
Completed in 46ms (View: 44, DB: 1) | 200 OK [http://test.host/story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 09:48:34) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 16:48:34', '2009-09-29 16:48:34', 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 9ms (DB: 20) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 09:48:34) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 4) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (2.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 09:48:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 8, DB: 4) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 09:48:34) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 09:48:34) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 09:48:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 09:48:34) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:01:13) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 17:01:13', '2009-09-29 17:01:13', 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 5ms (DB: 9) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 10:01:13) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 10:01:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 10:01:13) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:01:13) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 10:01:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 10:01:13) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:01:48) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.5ms)[0m   [0;1mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 17:01:48', '2009-09-29 17:01:48', 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 6ms (DB: 10) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 10:01:48) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 3) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 10:01:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 5ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 10:01:48) [GET]
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:01:48) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:01:48) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 10:01:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 10:01:48) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:09:02) [POST]
  Parameters: {"story"=>{"name"=>"test story", "link"=>"http://www.test.com/"}}
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 9, DB: 9) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:09:02) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.3ms)[0m   [0;1mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 17:09:02', '2009-09-29 17:09:02', 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 10:09:02) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 10:09:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 4ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 10:09:02) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:09:02) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:09:02) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 10:09:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 10:09:02) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:10:02) [POST]
  Parameters: {"story"=>{"name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.4ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('test story', '2009-09-29 17:10:02', '2009-09-29 17:10:02', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 5ms (DB: 10) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:10:02) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 17:10:02', '2009-09-29 17:10:02', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 10:10:02) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 10:10:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 10:10:02) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:10:02) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:10:02) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 10:10:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 10:10:03) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:20:44) [POST]
  Parameters: {"story"=>{"name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('test story', '2009-09-29 17:20:44', '2009-09-29 17:20:44', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/3
Completed in 8ms (DB: 16) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:20:44) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (1.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (4.0ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 17:20:44', '2009-09-29 17:20:44', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/4
Completed in 9ms (DB: 6) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 10:20:44) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.2ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 3) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (2.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 10:20:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 10ms (View: 9, DB: 3) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 10:20:44) [GET]
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:20:44) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:20:44) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 10:20:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 10:20:44) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.4ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('My test submission', '2009-09-29 17:22:53', '2009-09-29 17:22:53', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:22:54) [POST]
  Parameters: {"story"=>{"name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.3ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('test story', '2009-09-29 17:22:54', '2009-09-29 17:22:54', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/4
Completed in 6ms (DB: 14) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:22:54) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 17:22:54', '2009-09-29 17:22:54', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/5
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 10:22:54) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 1) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 10:22:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 10:22:54) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:22:54) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:22:54) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:22:54) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 10:22:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 10:22:54) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('My test submission', '2009-09-29 17:23:53', '2009-09-29 17:23:53', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:23:55) [POST]
  Parameters: {"story"=>{"name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.3ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('test story', '2009-09-29 17:23:55', '2009-09-29 17:23:55', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/4
Completed in 7ms (DB: 29) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story]
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:23:55) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `created_at`, `updated_at`, `link`) VALUES('New test story', '2009-09-29 17:23:55', '2009-09-29 17:23:55', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/5
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 10:23:55) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.2ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 3) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (1.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 10:23:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 14ms (View: 13, DB: 3) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 10:23:55) [GET]
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:23:55) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 10:23:55) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 15ms (View: 11, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 10:23:55) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 10:23:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 10:23:55) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:10:03) [POST]
  Parameters: {"story"=>{"name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 11ms (View: 7, DB: 9) | 200 OK [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:10:03) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 11:10:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 11:10:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 11:10:03) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 11:10:03) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:10:03) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 11:10:03) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 11:10:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 11:10:03) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:11:29) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.9ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 18:11:29', '2009-09-29 18:11:29', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 10ms (DB: 10) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:11:29) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 18:11:29', '2009-09-29 18:11:29', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 11:11:29) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 11:11:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 11:11:29) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 11:11:29) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 46ms (View: 44, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:11:29) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 11:11:29) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 11:11:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 11:11:29) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.7ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-29 18:12:12', '2009-09-29 18:12:12', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:12:13) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 18:12:13', '2009-09-29 18:12:13', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 6ms (DB: 10) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:12:13) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 18:12:13', '2009-09-29 18:12:13', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/5
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 11:12:13) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 11:12:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 11:12:13) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 11:12:13) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 40ms (View: 40, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 11:12:13) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 11:12:13) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 11:12:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 11:12:13) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-29 21:01:08', '2009-09-29 21:01:08', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-29 21:01:33', '2009-09-29 21:01:33', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-29 21:04:59', '2009-09-29 21:04:59', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:04:59', '2009-09-29 21:04:59', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-29 21:06:01', '2009-09-29 21:06:01', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:06:01', '2009-09-29 21:06:01', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:07:57) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:07:57', '2009-09-29 21:07:57', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 17) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:07:57) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:07:57', '2009-09-29 21:07:57', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:07:57) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:07:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:07:57) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 45ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:07:57) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:07:57) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:07:57) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:07:57) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:07:57) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:09:53) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:09:53', '2009-09-29 21:09:53', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 18) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:09:53) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:09:53', '2009-09-29 21:09:53', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:09:53) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:09:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:09:53) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 44ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:09:53) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:09:53) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:09:53) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:09:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:09:53) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:09:53) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:11:59) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:11:59', '2009-09-29 21:11:59', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 17) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:11:59) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:11:59', '2009-09-29 21:11:59', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:11:59) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 1) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:11:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:11:59) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 45ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:11:59) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:11:59) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:11:59) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#story (for 0.0.0.0 at 2009-09-29 14:12:00) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:12:00) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:14:07) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:14:07', '2009-09-29 21:14:07', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 17) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:14:07) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:14:07', '2009-09-29 21:14:07', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:14:07) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:14:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:14:07) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 45ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:14:07) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:14:07) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:14:07) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:14:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:14:07) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:14:07) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:16:04) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:16:04', '2009-09-29 21:16:04', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 18) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:16:04) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:16:04', '2009-09-29 21:16:04', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:16:04) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:16:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:16:04) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 45ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:16:04) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:16:04) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:16:04) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:16:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:16:04) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:16:04) [GET]
  Parameters: {"permalink"=>"my-shiny-blog"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-blog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (18.9ms)
Rendered story/_vote (0.3ms)
Completed in 28ms (View: 25, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-blog]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:28:01) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:28:01', '2009-09-29 21:28:01', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 18) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:28:01) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:28:01', '2009-09-29 21:28:01', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:28:01) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:28:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:28:01) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 44ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:28:01) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:28:01) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:28:01) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:28:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:28:01) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:28:01) [GET]
  Parameters: {"permalink"=>"my-shiny-blog"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-blog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (18.8ms)
Rendered story/_vote (0.3ms)
Completed in 28ms (View: 25, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-blog]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:28:01) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:29:02) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.5ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:29:02', '2009-09-29 21:29:02', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 7ms (DB: 15) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:29:02) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:29:02', '2009-09-29 21:29:02', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:29:02) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:29:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:29:02) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 44ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:29:02) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:29:02) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:29:02) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:29:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:29:02) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:29:02) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (18.5ms)
Rendered story/_vote (0.3ms)
Completed in 27ms (View: 25, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:29:02) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (0.2ms)
Rendered story/_vote (0.1ms)
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:32:33) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:32:33', '2009-09-29 21:32:33', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 16) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:32:33) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:32:33', '2009-09-29 21:32:33', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:32:33) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:32:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:32:33) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 44ms (View: 44, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:32:33) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:32:33) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:32:33) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:32:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:32:33) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:32:33) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:32:33', '2009-09-29 21:32:33', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/2?permalink=sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/story/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:32:33) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:32:33', '2009-09-29 21:32:33', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering story/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (17.4ms)
Completed in 22ms (View: 19, DB: 2) | 200 OK [http://test.host/story/vote/2]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:32:33) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (0.2ms)
Rendered story/_vote (0.2ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:32:33) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (0.2ms)
Rendered story/_vote (0.1ms)
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:33:30) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.5ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:33:30', '2009-09-29 21:33:30', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/3
Completed in 5ms (DB: 17) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:33:30) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.3ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:33:30', '2009-09-29 21:33:30', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:33:30) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 45ms (View: 44, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:33:30) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:33:30) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:33:30) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:30', '2009-09-29 21:33:30', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/2?permalink=sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/story/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:30', '2009-09-29 21:33:30', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/2?permalink=sitepoint-forums
Completed in 3ms (DB: 2) | 302 Found [http://test.host/story/vote/2]
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:33:30) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:30', '2009-09-29 21:33:30', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering story/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (17.7ms)
Completed in 22ms (View: 19, DB: 2) | 200 OK [http://test.host/story/vote/2]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (0.2ms)
Rendered story/_vote (0.1ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:33:30) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (0.2ms)
Rendered story/_vote (0.1ms)
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-29 21:33:54', '2009-09-29 21:33:54', 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:54', '2009-09-29 21:33:54', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (23.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:33:56) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('test story', 'test-story', '2009-09-29 21:33:56', '2009-09-29 21:33:56', 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/4
Completed in 5ms (DB: 20) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:33:56) [POST]
  Parameters: {"story"=>{"permalink"=>"new-test-story", "name"=>"New test story", "link"=>"http://www.veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.3ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `link`) VALUES('New test story', 'new-test-story', '2009-09-29 21:33:56', '2009-09-29 21:33:56', 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-29 14:33:56) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (2.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 4) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 50ms (View: 49, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-29 14:33:56) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
Rendering template within layouts/stories
Rendering stories/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-29 14:33:56) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/show/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:33:56) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:56', '2009-09-29 21:33:56', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/2?permalink=sitepoint-forums
Completed in 5ms (DB: 1) | 302 Found [http://test.host/story/vote/2]
  [4;36;1mStory Load (4.0ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.6ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:56', '2009-09-29 21:33:56', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/story/2?permalink=sitepoint-forums
Completed in 4ms (DB: 7) | 302 Found [http://test.host/story/vote/2]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#vote (for 0.0.0.0 at 2009-09-29 14:33:56) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `story_id`) VALUES('2009-09-29 21:33:56', '2009-09-29 21:33:56', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering story/vote
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (24.9ms)
Completed in 31ms (View: 27, DB: 2) | 200 OK [http://test.host/story/vote/2]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (0.2ms)
Rendered story/_vote (0.2ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoryController#show (for 0.0.0.0 at 2009-09-29 14:33:56) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/story
Rendering story/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered story/_vote (0.3ms)
Rendered story/_vote (0.1ms)
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/story/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-30 20:46:17', '2009-09-30 20:46:17', 1, 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` WHERE (`stories`.user_id = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 20:46:17', '2009-09-30 20:46:17', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.user_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.user_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-30 21:14:25', '2009-09-30 21:14:25', 1, 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` WHERE (`stories`.user_id = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:25', '2009-09-30 21:14:25', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVote Load (2.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.user_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.user_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 7ms (View: 4, DB: 417) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:27', '2009-09-30 21:14:27', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:14:27', '2009-09-30 21:14:27', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 71ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (13.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:14:27', '2009-09-30 21:14:27', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 14) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 13ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:27', '2009-09-30 21:14:27', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:14:27) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:14:27) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:14:27', '2009-09-30 21:14:27', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (44.6ms)
Completed in 50ms (View: 46, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:14:28) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:14:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:14:28) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (1.7ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:14:28) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:14:28) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:14:28) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:14:28) [POST]
  Parameters: {"user"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 13ms (View: 9, DB: 2) | 200 OK [http://test.host/users?]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:14:28) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:14:28) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-30 21:16:51', '2009-09-30 21:16:51', 1, 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` WHERE (`stories`.user_id = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:51', '2009-09-30 21:16:51', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.user_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.user_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 11ms (View: 5, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (4.7ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:53', '2009-09-30 21:16:53', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 16ms (DB: 8) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (4.8ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.4ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:16:53', '2009-09-30 21:16:53', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 15ms (DB: 12) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (1.6ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:16:53', '2009-09-30 21:16:53', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 14ms (DB: 4) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 10ms (View: 9, DB: 3) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (1.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 17ms (View: 16, DB: 2) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 13ms (View: 6, DB: 4) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 12ms (View: 11, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:53', '2009-09-30 21:16:53', NULL, 2)[0m
  [4;36;1mSQL (8.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 21ms (DB: 10) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 16ms (View: 13, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:16:53', '2009-09-30 21:16:53', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (23.3ms)
Completed in 30ms (View: 26, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.4ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 11ms (View: 7, DB: 3) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:16:53) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 7ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:16:53) [POST]
  Parameters: {"user"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://test.host/users?]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:16:53) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('My test submission', 'my-test-submission', '2009-09-30 21:34:17', '2009-09-30 21:34:17', 1, 'http://www.testsubmission.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` WHERE (`stories`.user_id = 1) [0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:17', '2009-09-30 21:34:17', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:18', '2009-09-30 21:34:18', NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.user_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.user_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 27) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:19', '2009-09-30 21:34:19', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:34:19', '2009-09-30 21:34:19', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 8ms (DB: 3) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:34:19', '2009-09-30 21:34:19', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 11, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:19', '2009-09-30 21:34:19', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:34:19', '2009-09-30 21:34:19', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.9ms)
Completed in 25ms (View: 22, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:34:19) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:34:19) [POST]
  Parameters: {"user"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://test.host/users?]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:34:19) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 23) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:37:53', '2009-09-30 21:37:53', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:37:53', '2009-09-30 21:37:53', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:37:53', '2009-09-30 21:37:53', 1, 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:37:53) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 5, DB: 2) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:37:53', '2009-09-30 21:37:53', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:37:53) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:37:53', '2009-09-30 21:37:53', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.8ms)
Completed in 24ms (View: 21, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:37:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:37:54) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:37:54) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:37:54) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:37:54) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:37:54) [POST]
  Parameters: {"user"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://test.host/users?]
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:37:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 2) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:37:54) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 64) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 4ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
Rendering admin/login
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:39:22', '2009-09-30 21:39:22', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mSQL (4.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.4ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:39:22', '2009-09-30 21:39:22', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 7ms (DB: 6) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (1.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:39:22', '2009-09-30 21:39:22', 1, 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 5ms (DB: 5) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (6.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:39:22) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 8) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 12ms (View: 11, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:39:22', '2009-09-30 21:39:22', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:39:22', '2009-09-30 21:39:22', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.3ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (20.4ms)
Completed in 27ms (View: 23, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.6ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.5ms)
Rendered stories/_vote (0.2ms)
Completed in 14ms (View: 9, DB: 4) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.4ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (2.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:39:22) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 4ms (DB: 4) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:39:22) [POST]
  Parameters: {"user"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 14ms (View: 10, DB: 1) | 200 OK [http://test.host/users?]
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:39:22) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 2) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:39:23) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:40:40', '2009-09-30 21:40:40', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:40:40', '2009-09-30 21:40:40', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 8ms (DB: 3) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:40:40', '2009-09-30 21:40:40', 1, 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:40:40) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 3) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:40:40', '2009-09-30 21:40:40', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (2.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 14ms (View: 12, DB: 4) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:40:40', '2009-09-30 21:40:40', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.8ms)
Completed in 25ms (View: 22, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (2.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 4) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 10ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:40:40) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:40:40) [POST]
  Parameters: {"user"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://test.host/users?]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:40:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:40:40) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (19.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 23ms (DB: 21) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:43:08) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:43:08) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:43:08) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:43:08) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:43:08) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:43:08) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:43:08', '2009-09-30 21:43:08', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:43:08) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:43:08', '2009-09-30 21:43:08', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:43:08) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:43:08', '2009-09-30 21:43:08', 1, 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:43:08) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:43:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:43:08) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:43:09', '2009-09-30 21:43:09', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:43:09) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:43:09) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:43:09', '2009-09-30 21:43:09', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.6ms)
Completed in 24ms (View: 20, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:43:09) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:43:09) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:43:09) [POST]
  Parameters: {"user"=>{"name"=>"bob"}}
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://test.host/users?user%5Bname%5D=bob]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:43:09) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 5ms (View: 5, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:43:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:43:09) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Rendering admin/login
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:44:43', '2009-09-30 21:44:43', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:44:43', '2009-09-30 21:44:43', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 3) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:44:43', '2009-09-30 21:44:43', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:44:43) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.2ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:44:43', '2009-09-30 21:44:43', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:44:43', '2009-09-30 21:44:43', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.7ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:44:43) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:44:43) [POST]
  Parameters: {"user"=>{"name"=>"bob"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://test.host/users?user%5Bname%5D=bob]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:44:43) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 5ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:44:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:44:43) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:47:22) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:47:22) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 14:47:22) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:47:22) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:47:22) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 2) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:47:22) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:47:22) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:47:22', '2009-09-30 21:47:22', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 50ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:47:22) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:47:22', '2009-09-30 21:47:22', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:47:22) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:47:22', '2009-09-30 21:47:22', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:47:22) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:47:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:47:22) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:47:22) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:47:23', '2009-09-30 21:47:23', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:47:23) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:47:23) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:47:23', '2009-09-30 21:47:23', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.0ms)
Completed in 23ms (View: 20, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.4ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.5ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 8, DB: 3) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:47:23) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:47:23) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:47:23) [POST]
  Parameters: {"user"=>{"name"=>"bob"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 10ms (View: 7, DB: 1) | 200 OK [http://test.host/users?user%5Bname%5D=bob]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:47:23) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.3ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 5ms (View: 4, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:47:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:47:23) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:48:57) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 27) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:48:57) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 14:48:57) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:48:57) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:48:57) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:48:57) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:48:58) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:48:58', '2009-09-30 21:48:58', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:48:58) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:48:58', '2009-09-30 21:48:58', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:48:58) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:48:58', '2009-09-30 21:48:58', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:48:58) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 13ms (View: 12, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:48:58', '2009-09-30 21:48:58', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:48:58) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:48:58) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:48:58', '2009-09-30 21:48:58', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (20.4ms)
Completed in 26ms (View: 23, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:48:58) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:48:58) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:48:58) [POST]
  Parameters: {"user"=>{"name"=>"bob"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 13ms (View: 8, DB: 1) | 200 OK [http://test.host/users?user%5Bname%5D=bob]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:48:58) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:48:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:48:58) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:51:36', '2009-09-30 21:51:36', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:51:36', '2009-09-30 21:51:36', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:51:36', '2009-09-30 21:51:36', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:51:36) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:51:36', '2009-09-30 21:51:36', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:51:36', '2009-09-30 21:51:36', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.5ms)
Completed in 24ms (View: 20, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.4ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (4.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 12ms (View: 6, DB: 6) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:51:36) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:51:36) [POST]
  Parameters: {"user"=>{"name"=>"bob"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://test.host/users?user%5Bname%5D=bob]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:51:36) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:51:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:51:36) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:55:03', '2009-09-30 21:55:03', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 8ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:55:03', '2009-09-30 21:55:03', NULL, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:55:03', '2009-09-30 21:55:03', NULL, 'http://www.veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 2ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:55:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:55:03', '2009-09-30 21:55:03', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:55:03', '2009-09-30 21:55:03', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.9ms)
Completed in 25ms (View: 22, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:55:03) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:55:03) [POST]
  Parameters: {"user"=>{"name"=>"bob"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 11ms (View: 7, DB: 2) | 200 OK [http://test.host/users?user%5Bname%5D=bob]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:55:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:55:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:55:03) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 26) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:57:24', '2009-09-30 21:57:24', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:57:24', '2009-09-30 21:57:24', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:57:24', '2009-09-30 21:57:24', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:57:24) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.7ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 7, DB: 4) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (4.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 12ms (View: 11, DB: 5) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (5.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 10ms (View: 9, DB: 6) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:57:24', '2009-09-30 21:57:24', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 5ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 11ms (View: 9, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:57:24', '2009-09-30 21:57:24', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.8ms)
Completed in 25ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.2ms)
Rendered stories/_vote (0.1ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:57:24) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:57:24) [POST]
  Parameters: {"user"=>{"name"=>"bob"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://test.host/users?user%5Bname%5D=bob]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:57:24) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 5ms (View: 5, DB: 4) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:57:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:57:24) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 7ms (View: 4, DB: 34) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 4ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 2) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
Rendering admin/login
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:59:25', '2009-09-30 21:59:25', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 8ms (DB: 3) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.3ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 21:59:25', '2009-09-30 21:59:25', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 9ms (DB: 4) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 21:59:25', '2009-09-30 21:59:25', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 9ms (DB: 7) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 14:59:25) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.2ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 14ms (View: 11, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 5, DB: 2) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (5.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 6) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:59:25', '2009-09-30 21:59:25', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 18ms (View: 14, DB: 2) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.4ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 21:59:25', '2009-09-30 21:59:25', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (29.2ms)
Completed in 35ms (View: 31, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (2.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 4) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 8, DB: 3) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (1.3ms)
Completed in 11ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 14:59:25) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 14:59:25) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 4ms (DB: 3) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 14:59:25) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '210677200.821651406426159', '2009-09-30 21:59:25', '2009-09-30 21:59:25', 'bd1d64de39c1ea7ec0a6a19be483134ab5290d75', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 14:59:25) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 3) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (1.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 14:59:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 8ms (View: 7, DB: 4) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 14:59:26) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 14:59:26) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 14:59:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 14:59:26) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 28) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:01:03', '2009-09-30 22:01:03', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:01:03', '2009-09-30 22:01:03', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:01:03', '2009-09-30 22:01:03', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:01:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:01:03', '2009-09-30 22:01:03', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:01:03', '2009-09-30 22:01:03', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (17.9ms)
Completed in 23ms (View: 20, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (4.7ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 33ms (View: 19, DB: 10) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/new?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (1.9ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:01:03) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (4.0ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (8.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 30ms (DB: 16) | 302 Found [http://test.host/stories/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:01:03) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '210677400.116307715525456', '2009-09-30 22:01:03', '2009-09-30 22:01:03', '63ce351718ffdbb414b78d141da94e4319a72210', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:01:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 11ms (DB: 5) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (4.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 7ms (View: 6, DB: 5) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 12ms (View: 8, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:01:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 5ms (View: 2, DB: 2) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:01:03) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 12ms (DB: 8) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 31) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:04:38', '2009-09-30 22:04:38', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.6ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:04:38', '2009-09-30 22:04:38', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:04:38', '2009-09-30 22:04:38', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:04:38) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:04:38', '2009-09-30 22:04:38', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 5ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:04:38', '2009-09-30 22:04:38', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.0ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:04:38', '2009-09-30 22:04:38', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:04:38) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:04:38) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211985100.348829878668561', '2009-09-30 22:04:38', '2009-09-30 22:04:38', 'c8f9c7ccf9d855466994b5a53264485510597863', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:04:38) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:04:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:04:38) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 47) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:24:12', '2009-09-30 22:24:12', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 3) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:24:12', '2009-09-30 22:24:12', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:24:12', '2009-09-30 22:24:12', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:24:12) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:24:12', '2009-09-30 22:24:12', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:24:12', '2009-09-30 22:24:12', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.5ms)
Completed in 24ms (View: 20, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.4ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:24:12', '2009-09-30 22:24:12', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:24:12) [PUT]
  Parameters: {"story"=>{}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:24:12) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211982400.807161531859711', '2009-09-30 22:24:12', '2009-09-30 22:24:12', 'ca54d2d7cabe90eaa45d6ae72d1713d4a73199f8', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:24:12) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 6, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:24:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:24:12) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 28) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:25:21', '2009-09-30 22:25:21', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:25:21', '2009-09-30 22:25:21', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:25:21', '2009-09-30 22:25:21', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:25:21) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (3.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (3.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 13ms (View: 7, DB: 9) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 14ms (View: 13, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:25:21', '2009-09-30 22:25:21', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:25:21) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:25:21', '2009-09-30 22:25:21', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.2ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 2) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:25:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:25:22) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 11ms (View: 7, DB: 4) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:25:22) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.2ms)
Rendered stories/_vote (0.1ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:25:22) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:25:22', '2009-09-30 22:25:22', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:25:22) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:25:22', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:25:22) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211962300.478144102716947', '2009-09-30 22:25:22', '2009-09-30 22:25:22', '701f1664920b65d3c69f4595bb7c812e111000c9', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:25:22) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:25:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:25:22) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:25:22) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:25:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:25:22) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 27) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:33:49', '2009-09-30 22:33:49', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:33:49', '2009-09-30 22:33:49', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:33:49', '2009-09-30 22:33:49', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:33:49) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:33:49', '2009-09-30 22:33:49', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:33:49', '2009-09-30 22:33:49', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.3ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.4ms)
Rendered stories/_vote (0.2ms)
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:33:49', '2009-09-30 22:33:49', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:33:49) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.3ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:33:49', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:33:49) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211892500.346566779974371', '2009-09-30 22:33:49', '2009-09-30 22:33:49', 'de669a31dd2a046b4210eede4160ee6a955e27ff', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:33:49) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:33:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:33:49) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 28) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 4ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:36:14', '2009-09-30 22:36:14', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:36:14', '2009-09-30 22:36:14', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.1ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:36:14', '2009-09-30 22:36:14', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:36:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.2ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (2.9ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 20ms (View: 13, DB: 5) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:36:14', '2009-09-30 22:36:14', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:36:14', '2009-09-30 22:36:14', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (17.4ms)
Completed in 23ms (View: 19, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:36:14', '2009-09-30 22:36:14', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:36:14) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:36:14', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:36:14) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211748100.900201945781912', '2009-09-30 22:36:14', '2009-09-30 22:36:14', 'c86996058590466208d5defa188996c5fb3a4747', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:36:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 6, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:36:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:36:14) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 30) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:37:07', '2009-09-30 22:37:07', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 3) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:37:07', '2009-09-30 22:37:07', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:37:07', '2009-09-30 22:37:07', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:37:07) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:37:07', '2009-09-30 22:37:07', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:37:07', '2009-09-30 22:37:07', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (17.6ms)
Completed in 23ms (View: 19, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:37:07', '2009-09-30 22:37:07', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:37:07) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:37:07', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:37:07) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211748100.208346026680252', '2009-09-30 22:37:07', '2009-09-30 22:37:07', 'e7a38f5702a6c509b8a755557779392d5782c735', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:37:07) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 9ms (View: 8, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:37:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:37:07) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 27) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:38:53', '2009-09-30 22:38:53', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:38:53', '2009-09-30 22:38:53', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:38:53', '2009-09-30 22:38:53', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:38:53) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:38:53', '2009-09-30 22:38:53', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:38:53) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:38:53', '2009-09-30 22:38:53', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (21.4ms)
Completed in 26ms (View: 23, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (4.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 5) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:38:53) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:38:54) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:38:54) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:38:54', '2009-09-30 22:38:54', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:38:54) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:38:54', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:38:54) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211906200.61709437241189', '2009-09-30 22:38:54', '2009-09-30 22:38:54', '855551a8279d44816b128e657abfc280dbf398ff', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 7ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:38:54) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:38:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 7ms (View: 5, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:38:54) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:38:54) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:38:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:38:54) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 28) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 1) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (1.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:40:36', '2009-09-30 22:40:36', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:40:36', '2009-09-30 22:40:36', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 8ms (DB: 3) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:40:36', '2009-09-30 22:40:36', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:40:36) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:40:36', '2009-09-30 22:40:36', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:40:36', '2009-09-30 22:40:36', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.3ms)
Completed in 25ms (View: 21, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.5ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 7, DB: 3) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:40:36', '2009-09-30 22:40:36', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:40:36) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:40:36', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:40:36) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211747200.225491618170741', '2009-09-30 22:40:36', '2009-09-30 22:40:36', 'df5bddbf43abbef81b252a535ad03a4eabd6a5e9', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:40:36) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:40:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:40:36) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 26) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 2ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.3ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:41:11', '2009-09-30 22:41:11', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:41:11', '2009-09-30 22:41:11', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/3
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:41:11', '2009-09-30 22:41:11', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/4
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:41:11) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:41:11', '2009-09-30 22:41:11', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 14ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:41:11', '2009-09-30 22:41:11', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.8ms)
Completed in 25ms (View: 22, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 11ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:41:11', '2009-09-30 22:41:11', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/5
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:41:11) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:41:11', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:41:11) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211643700.161031228845864', '2009-09-30 22:41:11', '2009-09-30 22:41:11', 'be23bb78595d5bb58714b20fd182d0476d891fc7', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:41:11) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 7ms (View: 6, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:41:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (4.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:41:11) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 6) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:42:46', '2009-09-30 22:42:46', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:42:46', '2009-09-30 22:42:46', 1, 'http://www.test.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/test-story
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"story"=>{"name"=>"New test story", "permalink"=>"new-test-story", "link"=>"http://www.veodia.com"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('New test story', 'new-test-story', '2009-09-30 22:42:46', '2009-09-30 22:42:46', 1, 'http://www.veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/new-test-story
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.veodia.com&story%5Bname%5D=New+test+story&story%5Bpermalink%5D=new-test-story]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:42:46) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Destroy (0.1ms)[0m   [0;1mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 3) | 302 Found [http://test.host/stories/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 9ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:42:46', '2009-09-30 22:42:46', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:42:46) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:42:46', '2009-09-30 22:42:46', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.7ms)
Completed in 25ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:42:46) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:42:47) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:42:47) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:42:47', '2009-09-30 22:42:47', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/test-story
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:42:47) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.7ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:42:47', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:42:47) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211659300.0553702425857644', '2009-09-30 22:42:47', '2009-09-30 22:42:47', '8aa57e4ea090025a3220b9e2717b5d5c52a61c50', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:42:47) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:42:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:42:47) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:42:47) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:42:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:42:47) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:25) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 29) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:25) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:44:25) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:25) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:25) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:25) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:44:25) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:44:25', '2009-09-30 22:44:25', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:44:25) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:44:25', '2009-09-30 22:44:25', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/test-story
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:44:25) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:44:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 56ms (View: 55, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:44:25) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:44:26', '2009-09-30 22:44:26', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:44:26) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:44:26) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:44:26', '2009-09-30 22:44:26', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (21.1ms)
Completed in 27ms (View: 23, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.3ms)
Completed in 11ms (View: 7, DB: 3) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:44:26) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.3ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:44:26', '2009-09-30 22:44:26', 1, 'http://www.story-with-user.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/test-story
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:44:26) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `updated_at` = '2009-09-30 22:44:26', `name` = 'updated name' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:44:26) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '212009300.0902408914130607', '2009-09-30 22:44:26', '2009-09-30 22:44:26', '5bc24a0233cd5cfca0849a69825e376a3ea724d9', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:44:26) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 2) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:44:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:44:26) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 26) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:44:58', '2009-09-30 22:44:58', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"story"=>{"name"=>"test story", "permalink"=>"test-story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:44:58', '2009-09-30 22:44:58', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/test-story
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:44:58) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 55ms (View: 54, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:44:58', '2009-09-30 22:44:58', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/sitepoint-forums
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:44:58) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:44:58', '2009-09-30 22:44:58', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.9ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show_permalink (for 0.0.0.0 at 2009-09-30 15:44:58) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show_permalink/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:44:59) [POST]
  Parameters: {"story"=>{"name"=>"story with user", "permalink"=>"test-story", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:44:59', '2009-09-30 22:44:59', 1, 'http://www.story-with-user.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/test-story
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:44:59) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `updated_at` = '2009-09-30 22:44:59', `name` = 'updated name' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show_permalink/my-shiny-weblog
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:44:59) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '212156900.976526471977353', '2009-09-30 22:44:59', '2009-09-30 22:44:59', '81a476e75212d05ef69c206bd1855a83e58edb26', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:44:59) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:44:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:44:59) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:44:59) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:44:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:44:59) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 34) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:58:10', '2009-09-30 22:58:10', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 22:58:10', '2009-09-30 22:58:10', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 15:58:10) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 57ms (View: 55, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:58:10', '2009-09-30 22:58:10', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 11, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 22:58:10', '2009-09-30 22:58:10', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (21.1ms)
Completed in 26ms (View: 23, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` IS NULL) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 22:58:10', '2009-09-30 22:58:10', 1, 'http://www.story-with-user.com/')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 15:58:10) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-09-30 22:58:10', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 15:58:10) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '211659900.526119900537478', '2009-09-30 22:58:10', '2009-09-30 22:58:10', '4e065a9c14da718f397ad89939cb9f48735bb385', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 15:58:10) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 6, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 15:58:10) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 15:58:11) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 15:58:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 15:58:11) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 36) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 23:00:41', '2009-09-30 23:00:41', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('test story', 'test-story', '2009-09-30 23:00:41', '2009-09-30 23:00:41', 1, 'http://www.test.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 16:00:41) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 56ms (View: 55, DB: 1) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  [4;36;1mStory Load (0.7ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` [0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 23:00:41', '2009-09-30 23:00:41', NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 14ms (View: 12, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-09-30 23:00:41', '2009-09-30 23:00:41', NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.4ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.3ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.1ms)
Completed in 9ms (View: 6, DB: 2) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.story_id = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (0.3ms)
Rendered stories/_vote (0.2ms)
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `user_id`, `link`) VALUES('story with user', 'test-story', '2009-09-30 23:00:41', '2009-09-30 23:00:41', 1, 'http://www.story-with-user.com/')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 16:00:41) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `updated_at` = '2009-09-30 23:00:41', `name` = 'updated name' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 16:00:41) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '212201400.746694658625305', '2009-09-30 23:00:41', '2009-09-30 23:00:41', '742b5b715365c2d4edfa77eb62db1709c11c9bd8', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 16:00:41) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 8ms (View: 6, DB: 4) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 16:00:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 16:00:41) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('My test submission', 'my-test-submission', '2009-10-01 00:16:45', '2009-10-01 00:16:45', 0, 1, 'http://www.testsubmission.com/', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` WHERE (`stories`.user_id = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Load (0.1ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mStory Update (66.6ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.8ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Update (0.3ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Update (0.1ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mStory Update (0.1ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Update (0.1ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mStory Update (0.1ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.1ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:45', '2009-10-01 00:16:45', NULL, 1)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mStory Update (0.1ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;36;1mSQL (8.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.1ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mVote Load (0.2ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.`id` = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.user_id = 1) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`id` = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.user_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:47', '2009-10-01 00:16:47', NULL, 2)[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 9ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('test story', 'test-story', '2009-10-01 00:16:47', '2009-10-01 00:16:47', 0, 1, 'http://www.test.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 17:16:47) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:47', '2009-10-01 00:16:47', NULL, 2)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 5ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:16:47', '2009-10-01 00:16:47', NULL, 2)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (17.5ms)
Completed in 23ms (View: 19, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('story with user', 'story-with-user', '2009-10-01 00:16:47', '2009-10-01 00:16:47', 0, 1, 'http://www.story-with-user.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/5
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 17:16:47) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `updated_at` = '2009-10-01 00:16:47', `name` = 'updated name' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 17:16:47) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '213655000.494659802399372', '2009-10-01 00:16:47', '2009-10-01 00:16:47', '4c9422db80863ea36dda72c47477266a30659adf', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 17:16:47) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 1ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 17:16:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 17:16:47) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:23:17) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 22) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:23:17) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 17:23:17) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:23:17) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:23:17) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:23:17) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:23:17) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:23:17', '2009-10-01 00:23:17', NULL, 2)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 8ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:23:17) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('test story', 'test-story', '2009-10-01 00:23:17', '2009-10-01 00:23:17', 0, 1, 'http://www.test.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 17:23:17) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 17:23:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:23:17) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 2, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:23:18', '2009-10-01 00:23:18', NULL, 2)[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:23:18) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:23:18) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:23:18', '2009-10-01 00:23:18', NULL, 2)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.0ms)
Completed in 24ms (View: 20, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#/stories/show/1 (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:23:18) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('story with user', 'story-with-user', '2009-10-01 00:23:18', '2009-10-01 00:23:18', 0, 1, 'http://www.story-with-user.com/', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 17:23:18) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-10-01 00:23:18', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 17:23:18) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '215233800.700017264777587', '2009-10-01 00:23:18', '2009-10-01 00:23:18', 'e34fa66aad19c85c5d15aa986cb283b6f64dafff', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 17:23:18) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 17:23:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 17:23:18) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 25) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:24:19', '2009-10-01 00:24:19', NULL, 2)[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 9ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('test story', 'test-story', '2009-10-01 00:24:19', '2009-10-01 00:24:19', 0, 1, 'http://www.test.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-09-30 17:24:19) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 8ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 2, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.3ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:24:19', '2009-10-01 00:24:19', NULL, 2)[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.1ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 00:24:19', '2009-10-01 00:24:19', NULL, 2)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mVote Load (0.1ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (17.8ms)
Completed in 24ms (View: 20, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('story with user', 'story-with-user', '2009-10-01 00:24:19', '2009-10-01 00:24:19', 0, 1, 'http://www.story-with-user.com/', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-09-30 17:24:19) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.1ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-10-01 00:24:19', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-30 17:24:19) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '213639100.544207263297437', '2009-10-01 00:24:19', '2009-10-01 00:24:19', '1623ae0fc9fc10cd931070350301a4536c9518c5', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-30 17:24:19) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 1ms (DB: 1) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-30 17:24:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-30 17:24:19) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 6ms (View: 3, DB: 45) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
Rendering admin/login
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:14:41', '2009-10-01 17:14:41', NULL, 2)[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 9ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.6ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('test story', 'test-story', '2009-10-01 17:14:41', '2009-10-01 17:14:41', 0, 1, 'http://www.test.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 17ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-10-01 10:14:41) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 3) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 5ms (View: 3, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  [4;36;1mStory Load (0.7ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 5ms (View: 3, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:14:41', '2009-10-01 17:14:41', NULL, 2)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 11ms (View: 8, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.8ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.4ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:14:41', '2009-10-01 17:14:41', NULL, 2)[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (74.9ms)
Completed in 85ms (View: 77, DB: 3) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 12ms (View: 9, DB: 3) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('story with user', 'story-with-user', '2009-10-01 17:14:41', '2009-10-01 17:14:41', 0, 1, 'http://www.story-with-user.com/', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-10-01 10:14:41) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.3ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-10-01 17:14:41', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-10-01 10:14:41) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '213650700.20666126284685', '2009-10-01 17:14:41', '2009-10-01 17:14:41', '49fdc4d0a0a5191e4e320cb1dbf8131e3b597252', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-10-01 10:14:41) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-10-01 10:14:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-10-01 10:14:41) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:17:31) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 8ms (View: 4, DB: 52) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:17:31) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 4ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 2ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:17:31) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:17:31) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
Rendering admin/login
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:17:31) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:17:31', '2009-10-01 17:17:31', NULL, 2)[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 11ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:17:31) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('test story', 'test-story', '2009-10-01 17:17:31', '2009-10-01 17:17:31', 0, 1, 'http://www.test.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 5ms (DB: 2) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-10-01 10:17:31) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:17:31', '2009-10-01 17:17:31', NULL, 2)[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 6ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:17:31) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:17:32) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:17:32) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:17:32', '2009-10-01 17:17:32', NULL, 2)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.3ms)
Completed in 25ms (View: 21, DB: 2) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:17:32) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('story with user', 'story-with-user', '2009-10-01 17:17:32', '2009-10-01 17:17:32', 0, 1, 'http://www.story-with-user.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 3ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-10-01 10:17:32) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `updated_at` = '2009-10-01 17:17:32', `name` = 'updated name' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-10-01 10:17:32) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '213666300.210886757675536', '2009-10-01 17:17:32', '2009-10-01 17:17:32', '2c8c143fe79821e21115c7eff5b4a21b8e3e0e0d', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-10-01 10:17:32) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-10-01 10:17:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-10-01 10:17:32) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 5ms (View: 3, DB: 41) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 3ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:18:37', '2009-10-01 17:18:37', NULL, 2)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 9ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (25.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('test story', 'test-story', '2009-10-01 17:18:37', '2009-10-01 17:18:37', 0, 1, 'http://www.test.com/', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 6ms (DB: 27) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-10-01 10:18:37) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.1ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (3.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 15ms (View: 13, DB: 5) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:18:37', '2009-10-01 17:18:37', NULL, 2)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 5ms (DB: 1) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 1) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (3.5ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:18:37', '2009-10-01 17:18:37', NULL, 2)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (19.5ms)
Completed in 30ms (View: 22, DB: 5) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('story with user', 'story-with-user', '2009-10-01 17:18:37', '2009-10-01 17:18:37', 0, 1, 'http://www.story-with-user.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 5ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-10-01 10:18:37) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Update (0.3ms)[0m   [0mUPDATE `stories` SET `updated_at` = '2009-10-01 17:18:37', `name` = 'updated name' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 6ms (DB: 3) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;35;1mSQL (6.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-10-01 10:18:37) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '213699900.480008889977802', '2009-10-01 17:18:37', '2009-10-01 17:18:37', '338ccd0a0ecfd2eae7b7502e3a73f2c1a8b9c6b9', 'bob@veodia.com')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 7) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (3.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-10-01 10:18:37) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 3ms (DB: 5) | 302 Found [http://test.host/users/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://test.host/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-10-01 10:18:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-10-01 10:18:37) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"name"=>"no such", "password"=>"user"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'no such') LIMIT 1[0m
Rendering admin/login
Completed in 10ms (View: 6, DB: 87) | 200 OK [http://test.host/admin/login?name=no+such&password=user]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 5ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]


Processing AdminController#logout (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  [4;36;1mUser Load (3.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/admin/login
Completed in 8ms (DB: 4) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories
Completed in 1ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"name"=>"patrick", "password"=>"veodia"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'patrick') LIMIT 1[0m
Redirected to http://test.host/stories/new
Completed in 2ms (DB: 1) | 302 Found [http://test.host/admin/login?name=patrick&password=veodia]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AdminController#login (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
Rendering admin/login
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (1.7ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:19:00', '2009-10-01 17:19:00', NULL, 2)[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 11ms (DB: 6) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"test story", "link"=>"http://www.test.com/"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Create (0.2ms)[0m   [0;1mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('test story', 'test-story', '2009-10-01 17:19:00', '2009-10-01 17:19:00', 0, 1, 'http://www.test.com/', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/3
Completed in 6ms (DB: 3) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.test.com%2F&story%5Bname%5D=test+story&story%5Bpermalink%5D=test-story]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `stories` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#destroy (for 0.0.0.0 at 2009-10-01 10:19:00) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Destroy (0.2ms)[0m   [0mDELETE FROM `stories` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories
Completed in 2ms (DB: 2) | 302 Found [http://test.host/stories/1]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `stories` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#edit (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.6ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
Rendering template within layouts/stories
Rendering stories/edit
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/stories/1/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 7ms (View: 5, DB: 2) | 200 OK [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/stories]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StoriesController#index (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (votes_count >= 5) ORDER BY id DESC[0m
Rendering template within layouts/stories
Rendering stories/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Create (0.2ms)[0m   [0mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:19:00', '2009-10-01 17:19:00', NULL, 2)[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/2?permalink=sitepoint-forums
Completed in 7ms (DB: 2) | 302 Found [http://test.host/stories/vote/2]
  [4;35;1mSQL (3.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
Redirected to http://test.host/admin/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 3) | 302 Found [http://test.host/stories/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"story"=>{"name"=>"story without a link"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 12ms (View: 9, DB: 1) | 200 OK [http://test.host/stories?story%5Bname%5D=story+without+a+link]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#vote (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"id"=>"2", "user_id"=>"1"}
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mVote Create (0.2ms)[0m   [0;1mINSERT INTO `votes` (`created_at`, `updated_at`, `user_id`, `story_id`) VALUES('2009-10-01 17:19:00', '2009-10-01 17:19:00', NULL, 2)[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;36;1mStory Update (2.2ms)[0m   [0;1mUPDATE `stories` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering stories/vote
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 2) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 2) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.7ms)
Completed in 31ms (View: 23, DB: 4) | 200 OK [http://test.host/stories/vote/2?user_id=1]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#new (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/new
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#create (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"story"=>{"permalink"=>"test-story", "name"=>"story with user", "link"=>"http://www.story-with-user.com/"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStory Create (0.2ms)[0m   [0mINSERT INTO `stories` (`name`, `permalink`, `created_at`, `updated_at`, `votes_count`, `user_id`, `link`, `description`) VALUES('story with user', 'story-with-user', '2009-10-01 17:19:00', '2009-10-01 17:19:00', 0, 1, 'http://www.story-with-user.com/', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/4
Completed in 4ms (DB: 1) | 302 Found [http://test.host/stories?story%5Blink%5D=http%3A%2F%2Fwww.story-with-user.com%2F&story%5Bname%5D=story+with+user&story%5Bpermalink%5D=test-story]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#update (for 0.0.0.0 at 2009-10-01 10:19:00) [PUT]
  Parameters: {"story"=>{"name"=>"updated name"}, "id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE `stories` SET `updated_at` = '2009-10-01 17:19:00', `name` = 'updated name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stories/show/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/stories/1?story%5Bname%5D=updated+name]
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-10-01 10:19:00) [POST]
  Parameters: {"user"=>{"name"=>"bob", "password"=>"veodia", "email"=>"bob@veodia.com"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`, `email`) VALUES('bob', '213684200.926538965455756', '2009-10-01 17:19:00', '2009-10-01 17:19:00', '43f2c92db68201bb4e0b2beaf9c0f10320b20a35', 'bob@veodia.com')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=bob%40veodia.com&user%5Bname%5D=bob&user%5Bpassword%5D=veodia]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-10-01 10:19:00) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 2ms (DB: 2) | 302 Found [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/users/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 5ms (View: 5, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-10-01 10:19:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-10-01 10:19:00) [PUT]
  Parameters: {"id"=>"1", "user"=>{}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'patrick' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:31:24) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 11ms (View: 9, DB: 45) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:34:40) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 12ms (View: 9, DB: 27) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:35:17) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 12ms (View: 9, DB: 22) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:37:46) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 20ms (View: 15, DB: 132) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:39:51) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.4ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 19ms (View: 14, DB: 80) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
New Relic Agent not running
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:45:26) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 13ms (View: 9, DB: 23) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:46:18) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 12ms (View: 9, DB: 29) | 200 OK [http://test.host/stories/show/my-shiny-weblog]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:48:57) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (27.6ms)
Rendered stories/_vote (0.3ms)
Completed in 41ms (View: 38, DB: 38) | 200 OK [http://test.host/stories/show/my-shiny-weblog]

 story.id=1 
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:50:58) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (17.5ms)
Rendered stories/_vote (0.3ms)
Completed in 31ms (View: 28, DB: 26) | 200 OK [http://test.host/stories/show/my-shiny-weblog]

 story.id=1 
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
New Relic Agent not running
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM `stories` WHERE (`stories`.`id` = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StoriesController#show (for 0.0.0.0 at 2009-10-01 10:51:24) [GET]
  Parameters: {"permalink"=>"my-shiny-weblog"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM `stories` WHERE (`stories`.`permalink` = 'my-shiny-weblog') LIMIT 1[0m
Rendering template within layouts/stories
Rendering stories/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mVote Load (0.2ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.story_id = 1) ORDER BY id DESC LIMIT 3[0m
Rendered stories/_vote (18.5ms)
Rendered stories/_vote (0.3ms)
Completed in 32ms (View: 29, DB: 26) | 200 OK [http://test.host/stories/show/my-shiny-weblog]

 story.id=1 
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
